<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lab_molec_gel_electrophoresis – Gatins Lab Protocols</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5a9b537b243303aefe8b977b0c05dd2c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Gatins Lab Protocols</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Welcome</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./lab_generalprotocols.html"> 
<span class="menu-text">Lab Protocols</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./fieldprotocols.html"> 
<span class="menu-text">Field Protocols</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./prof_development.html"> 
<span class="menu-text">Professional Development</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./coding.html"> 
<span class="menu-text">Coding</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/remygatins"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/remygatins?lang=en"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lab_molec_etoh.html">Molecular Protocols</a></li><li class="breadcrumb-item"><a href="./lab_molec_gel_electrophoresis.html">Gel Electrophoresis</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./pictures/Gatins_Lab_logo_dark_simple.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">General Protocols</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_generalprotocols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General Protocols</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_gen_sharedlabspace.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NUMSC - Shared Lab Space</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_gen_pipetting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pipetting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_gen_water.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Types of Water</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_gen_stableisotope.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stable Isotope Protocol</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Equipment</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_80_freezer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">-80°C Freezer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_autoclave.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Autoclave (OGL)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_tapestation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tapestation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_qubit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">QubitFlex Fluorometer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_ph_meter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">pH Meter</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Molecular Protocols</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_etoh.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Types of Ethanol</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">eDNA Protocols</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_eDNA_filtration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">eDNA Water Collection &amp; Filtration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_eDNA_extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">eDNA Filter Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_eDNA_qpcr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">eDNA qPCR Protocol (BSB)</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_dnaextraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Qiagen DNeasy extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_DNA_beadcleanup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DNA Bead Cleanup</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Illumina WGS Library Prep</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_illuminalibraryprep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Illumina Library Prep</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_yinlineannealing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Annealing Y-in line adapters for use in Illumina WGS</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_gel_electrophoresis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Gel Electrophoresis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_low_te_buffer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Low TE Buffer</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#gel-electrophoresis" id="toc-gel-electrophoresis" class="nav-link active" data-scroll-target="#gel-electrophoresis">Gel Electrophoresis</a>
  <ul class="collapse">
  <li><a href="#protocol" id="toc-protocol" class="nav-link" data-scroll-target="#protocol">Protocol</a>
  <ul class="collapse">
  <li><a href="#protocol-beginning" id="toc-protocol-beginning" class="nav-link" data-scroll-target="#protocol-beginning">Protocol Beginning</a></li>
  </ul></li>
  <li><a href="#troubleshooting" id="toc-troubleshooting" class="nav-link" data-scroll-target="#troubleshooting"><strong>Troubleshooting</strong></a>
  <ul class="collapse">
  <li><a href="#agarose-percentages" id="toc-agarose-percentages" class="nav-link" data-scroll-target="#agarose-percentages">Agarose Percentages</a></li>
  <li><a href="#wavy-sample-or-ladder-bands" id="toc-wavy-sample-or-ladder-bands" class="nav-link" data-scroll-target="#wavy-sample-or-ladder-bands">Wavy Sample or Ladder Bands</a></li>
  <li><a href="#e1-error-on-voltage-machine" id="toc-e1-error-on-voltage-machine" class="nav-link" data-scroll-target="#e1-error-on-voltage-machine">E1 Error on Voltage Machine</a></li>
  <li><a href="#streaky-samples" id="toc-streaky-samples" class="nav-link" data-scroll-target="#streaky-samples">Streaky Samples</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lab_molec_etoh.html">Molecular Protocols</a></li><li class="breadcrumb-item"><a href="./lab_molec_gel_electrophoresis.html">Gel Electrophoresis</a></li></ol></nav></header>




<section id="gel-electrophoresis" class="level1">
<h1>Gel Electrophoresis</h1>
<p><a href="https://github.com/remygatins/GatinsLab/blob/main/lab_molec_gel_electrophoresis.qmd">Edit this page</a> Protocol adapted from <a href="https://drk-lo.github.io/lotterhoslabprotocols/molecprot_gelelectrophoresis.html">Lotterhos lab protocol</a></p>
<section id="protocol" class="level2">
<h2 class="anchored" data-anchor-id="protocol">Protocol</h2>
<p>You can make either a 1% or 2% agarose gel. We have been using 2% gels because they tend to give better/clearer results.</p>
<p><strong>Materials</strong></p>
<ul>
<li><p>Agarose (chemical shelf)</p></li>
<li><p>1X TAE (reagent shelf)</p></li>
<li><p>Scoop (near sink)</p></li>
<li><p>Erlenmeyer flask (glassware cabinet)</p></li>
<li><p>Stir bar (drawer under stir plate)</p></li>
<li><p>Gel rig and combs (gel room)</p></li>
<li><p>Weigh boat</p></li>
<li><p>Parafilm</p></li>
<li><p>1kb Plus ladder (-20 freezer)</p></li>
<li><p>TriTrack loading dye (-20 freezer)</p></li>
<li><p>DI water</p></li>
<li><p>MilliQ water (OGL)</p></li>
<li><p>P2.5 and P10 pipettes</p></li>
<li><p>Insulated box with ice</p></li>
</ul>
<p><strong>Equipment</strong></p>
<ul>
<li><p>Magnetic stir plate (left of the -80 fridge)</p></li>
<li><p>Microwave (gel room)</p></li>
<li><p>Power supply- PowerEase™ Touch 120W Power Supply (115 VAC) or Hoefer PS300-B (in gel room)</p>
<ul>
<li>PowerEase™ Touch 120W Power Supply (115 VAC) <a href="https://www.thermofisher.com/document-connect/document-connect.html?url=https://assets.thermofisher.com/TFS-Assets%2FLSG%2Fmanuals%2FMAN0019502_PowerEaseTouch120WPowerSupply_UG.pdf">User Manual</a></li>
</ul></li>
<li><p>Gel Doc for imaging (in OGL)</p></li>
</ul>
<section id="protocol-beginning" class="level3">
<h3 class="anchored" data-anchor-id="protocol-beginning">Protocol Beginning</h3>
<ol type="1">
<li><p>Ensure you have correctly diluted 1X TAE Buffer. To make 1X from 50X TAE, pour 20mL 10X TAE in the large plastic graduated cyliner. Add 980mL MilliQ water until the mixture reaches the 1000mL mark. Pour and store in a 1L labelled glass bottle.</p></li>
<li><p>Mix the gel components.</p>
<ol type="a">
<li>For a 1% agarose gel:
<ol type="i">
<li>Small gel: 0.60g agarose + 60 mL 1X TAE Buffer</li>
<li>Medium gel: 1 g agarose + 100 mL 1X TAE Buffer</li>
</ol></li>
<li><strong>For a 2% agarose gel (what we usually use):</strong>
<ol type="i">
<li>Small gel: 1.2g agarose + 60 mL 1X TAE Buffer</li>
<li>Medium gel: 2g agarose + 100 mL 1X TAE Buffer</li>
</ol></li>
<li>Weigh agarose using a plastic small weigh boat. Pour into Erlenmeyer flask. Measure 1X TAE using an 100mL graduated cyliner. Pour into Erlenmeyer flask and swirl gently.</li>
<li>Use the magnetic stirring plate (put a stir bar inside the Erlenmeyer flask) to mix. Turn the RPM into the 500s until all the clumps are gone. Remove the stir bar using the magnetic pull from another stir bar. Sterilize before putting back.</li>
</ol></li>
<li><p>Melt the gel.</p>
<ol type="a">
<li>Microwave the flask with agarose mixture for ~30 seconds.
<ol type="i">
<li>Always watch for boiling. If mixture begins to bubble, remove it immediately and carefully swirl until bubbles are gone.</li>
</ol></li>
<li>With hot mitt, remove the flask from microwave and gently swirl.
<ol type="i">
<li>Be careful—it will be hot! Hold the flask away from you and gently swirl to avoid splashing.</li>
</ol></li>
<li>Return the flask to microwave and continue heating for another 30-40 seconds until mixture is clear and there are no agarose particles.</li>
</ol></li>
<li><p>Allow to cool.</p>
<ol type="a">
<li>Gently swirl while cooling. The solution should be cool enough to hold in the palm of your hand. This can take a couple minutes, please be patient.</li>
</ol></li>
<li><p>Add GelRed:</p>
<ol type="a">
<li>Small gel: 6ul.</li>
<li>Medium gel: 10 uL
<ol type="i">
<li>GelRed can be found in the drawer labeled “Gatins GelRed” in the shared wet lab/gel room.</li>
</ol></li>
<li>Gently swirl until the stain is dissolved (you should not be able to see any red stain in the gel).</li>
</ol></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
GelRed Info
</div>
</div>
<div class="callout-body-container callout-body">
<p>GelRed is light sentsitive, dont keep it out for long! It tends to form a bubble on top. Pop it with a seperate pipette tip before pipetting to ensure it doesn’t get all over the pipette.</p>
</div>
</div>
<ol start="6" type="1">
<li>Pour the gel.
<ol type="a">
<li>Place gel tray in empty gel rig (dry, no TAE). Flip its orientation so it in confined (SEE IMAGE BELOW). Wet the red rubber gaskets of tray before placing in rig so it will be easier to take out later.</li>
</ol></li>
</ol>
<p><img width="329" alt="Screen Shot 2023-03-27 at 10 13 46 AM" src="https://user-images.githubusercontent.com/122108419/227965749-c42c0fae-27ca-400f-b826-46acb3d169e2.png"></p>
<pre><code>b. Pour gel slowly to avoid bubbles. 
   i. If bubbles form, you can pop them using a pipette tip. 
   ii. Make sure gel is poured evenly. 
c. Add casting combs into the slots. 
   i. Allow enough room between combs for DNA to run down.
   ii. There are 2 pairs of combs for each size gel; one will create wider wells than the other. You can use either set of combs. 
d. Rinse out the flask and hang on drying rack in Gatins lab.</code></pre>
<ol start="7" type="1">
<li><p>Let the gel set for ~40 minutes.</p>
<ol type="a">
<li>The gel should be solid, cool to the touch, and opaque.</li>
<li>Once gel is set, remove the combs.
<ol type="i">
<li>Remove combs slowly, pulling straight up. It might be easier to do this if the gel is in the buffer.</li>
</ol></li>
</ol></li>
<li><p>Make sure that the power source is off, and the gel rig is unplugged from the power source before removing the top.</p></li>
<li><p>Place the tray with your gel in the gel rig with wells on the side with the black plug</p>
<ol type="a">
<li>Samples will run from the black side toward red side.</li>
<li>DNA “runs to red” <img width="299" alt="Screen Shot 2023-03-24 at 1 37 35 PM" src="https://user-images.githubusercontent.com/122108419/227599823-a24f1a01-58bb-4c51-b04f-c04bc3ba4ee3.png"></li>
</ol></li>
<li><p>Fill rig with enough 1X TAE Buffer to just cover the entire gel.</p>
<ol type="a">
<li>The rig doesn’t need to be filled all the way to the line, just enough to cover the gel.</li>
</ol></li>
</ol>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Loading DNA into gel wells
</div>
</div>
<div class="callout-body-container callout-body">
<p>Right before taking your 3ul of DNA, make sure to vortex the sample to ensure DNA is evenly dispersed throughout the tube. Forgetting to vortex can result in gels where no band is visible, or super streaky, as DNA may be stuck on the bottom of the sample well rather than suspended in the buffer.</p>
</div>
</div>
<ol start="11" type="1">
<li>Create ladder and DNA dye/sample solutions to load.
<ol type="a">
<li>Thaw DNA, ladder, and TriTrack loading dye. Keep on ice once thawed.</li>
<li>Cut a piece of parafilm and tape to blue tray, waxy side up. Label where samples will go.</li>
<li>Create ladder following table below. Vortex and centrifuge ladder before using.
<ol type="i">
<li><table class="caption-top table">
<thead>
<tr class="header">
<th>Ladder</th>
<th>Loading Dye</th>
<th>DI H2O</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1 uL</td>
<td>1 uL</td>
<td>4 uL</td>
</tr>
</tbody>
</table>
<em>Makes enough for 2 ladders</em></li>
<li>Pipette the 1ul ladder, 1ul TriTrack loading dye, and 4ul DI H20 per 2 ladders onto parafilm.</li>
<li>Pipette up and down to mix.</li>
</ol></li>
<li>Create DNA dye/sample solutions following table below.
<ol type="i">
<li><table class="caption-top table">
<thead>
<tr class="header">
<th>DNA</th>
<th>Loading Dye</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3 uL</td>
<td>1 uL</td>
</tr>
</tbody>
</table></li>
<li>Pipette the 1uL loading dye onto parafilm for each sample.</li>
<li>Using <strong>filtered tips</strong> pipette DNA up and down when pipetting out. Pipette the 3 uL DNA onto parafilm.</li>
<li>Pipette DNA and loading dye up and down on parafilm to mix. <img width="300" alt="" src="pictures/pipette_parafilm.png"></li>
</ol></li>
</ol></li>
<li>Load Gel
<ol type="a">
<li>Pipette 3 ul of the dye/sample solution into the proper well of the gel.</li>
<li>Repeat for each sample. Change your pipette tip for each sample.</li>
<li>Keep track of which samples are where!</li>
</ol></li>
</ol>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pipetting into gel wells
</div>
</div>
<div class="callout-body-container callout-body">
<p>When pipetting into gel wells, be careful not to break the agarose or stick the pipette tip too far into the well so that the sample ejects into the agarose. Position your pipette tip just inside the well and check for dye in the correct well after you pipette it. Check to see if the agarose around the well breaks. Take a note if the agarose breaks around a well.</p>
</div>
</div>
<ol start="13" type="1">
<li>Run the gel.
<ol type="a">
<li>Put the gel box cover into place.
<ol type="i">
<li>Make sure the wires are plugged in correctly (wire colors match plug colors).</li>
<li>Turn on the power supply and set timer. For a 1% gel, set it for 130V for 30 minutes. For a 2% gel, we found that 90V for 35 minutes works better.</li>
</ol></li>
<li>Check for bubbles rising at cathode (black plug) side to ensure the rig is working. If you do not see bubbles rising, the gel is not running.</li>
<li>When the gel is done running, turn the off power.
<ol type="i">
<li>Never open the rig when the power is on.</li>
</ol></li>
</ol></li>
</ol>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Power Supply Safety Notes
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>The power supply can output 300 V at maximum. Never run a protocol that maxes out the voltage.</p></li>
<li><p>You can safely run up to 4 small gels or 2 medium gels at most simultaneously on the power supply. Do not run more gels than the machine can handle, or it may break the machine.</p></li>
<li><p>Never connect/disconnect cords from the power supply’s power jacks while the blue indicator light is on or when the screen says “Running.”</p></li>
<li><p>Make sure area around the power supply is dry and clean</p></li>
<li><p>Wait 5 seconds after ending a run before handling the cords/output leads/gel rig.</p></li>
<li><p>For proper ventilation, leave at least 10 cm of space behind the instrument, and at least 5 cm of space on each side.</p></li>
<li><p>Information based on Appendix D of the <a href="https://www.thermofisher.com/document-connect/document-connect.html?url=https://assets.thermofisher.com/TFS-Assets%2FLSG%2Fmanuals%2FMAN0019502_PowerEaseTouch120WPowerSupply_UG.pdf">safety manual</a></p></li>
</ul>
</div>
</div>
<ol start="14" type="1">
<li><p>Visualize the gel.</p>
<ol type="a">
<li><p>Turn the power supply off.</p></li>
<li><p>Remove the cover from the gel box.</p></li>
<li><p>Carefully remove the tray and gel.</p>
<ol type="i">
<li>Try to drip excess buffer back into the rig, scraping the bottom of the tray on the edge of the box.</li>
</ol></li>
<li><p>The gel doc (for visualizing the gel) is in OGL, in the room you walk through right before the autoclave room. The gel doc is a large grey machine on the benchtop next to a black computer. Open the gel doc tray and wipe it clean using MilliQ water and KimWipes.</p>
<ol type="i">
<li>A small volume of water (&lt;10ml) is sufficient.</li>
</ol></li>
<li><p>Slide the gel onto the gel doc tray. You can also keep the gel in its plastic tray and put the whole thing on the gel doc.</p>
<ol type="i">
<li>Do so slowly to avoid creating bubbles under the gel.</li>
<li>If you’re unsure if your gel has run long enough, you can leave gel in tray and visualize it. You can then return the gel to the rig and run it for longer if necessary.</li>
</ol></li>
<li><p>Close the tray.</p></li>
<li><p>Open “Image Lab” application on the OGL laptop connected to the gel doc.</p></li>
<li><p>Check that the cord labeled “Gel doc” is plugged into the computer.</p></li>
<li><p>Select New Protocol.</p></li>
<li><p>Under “Application”, select Nucleic Acid Gels and then GelRed.</p>
<ol type="i">
<li>The default setting is to optimize for most intense bands which prevents the gel from being over exposed but may make very faint samples undetectable.</li>
<li>If necessary, under “Image Exposure” you can select exposure to optimize for faintest bands or set a manual exposure time.</li>
<li>If you are running a gel with samples of highly variable concentrations, it may be useful to run protocols with each optimization option.</li>
</ol></li>
<li><p>Select “Position Gel” (yellow button on the left side of the window).</p>
<ol type="i">
<li>The program will ask you to check that the filter is set to Filter 1.</li>
<li>Check that the arm on the upper right side of the gel doc is in the center position labeled Filter 1.</li>
</ol></li>
<li><p>Open door on the front of the gel doc and position your gel.</p>
<ol type="i">
<li>You can zoom in and out under image window on the computer screen.</li>
<li>You can enable grid lines by checking the box in the bottom corner of the screen.</li>
</ol></li>
<li><p>Close door and select “Run Protocol” (green button on the left side of the window).</p></li>
<li><p>Wait for the gel image to load.</p></li>
<li><p>Save image or change protocol and run again.</p></li>
<li><p>To save as .jpg image:</p>
<ol type="i">
<li>Select File&gt;Export&gt;Export for Publication&gt;Select Export.</li>
<li>Change file type to .jpg.</li>
<li>Name file and save in appropriate folder. We have a Lotterhos folder on the OGL laptop.</li>
</ol></li>
</ol></li>
<li><p>Always clean the gel doc tray after use. You can use MilliQ water from the squirt bottle near the gel doc and a Kimwipe to clean the tray of any remaining gel or TAE. Make sure the tray is dry before you leave.</p></li>
<li><p>Dispose of the gel in mayo jar. Be sure to label mayo jar with GelRed and Bromophenol blue.</p></li>
<li><p>Rinse gel tray and let dry on drying rack above the sink in the gel room.</p></li>
<li><p>Interpret your gel.</p></li>
</ol>
<ul>
<li><p>First, ensure your ladder ran cleanly. You want to see relatively straight and separated lines. Some will have higher feedback when imaging.</p></li>
<li><p>Use the ladder to determine the size in basepairs of your DNA samples.</p></li>
</ul>
<p><strong>Thermo Fisher GeneRuler 1 kb Ladder, 250-10,000 kbp</strong> (ladder we have in the lab)</p>
<p><img width="300" alt="" src="pictures/generuler_1kb.png"></p>
<ul>
<li>As shown in the image above, the ladder has 14 distinct bands representing strands of 250 bp at the lowest band to 10,000 bp at the topmost band. What matters most for genomic DNA to be sent for sequencing is ensuring your DNA strands are long enough (&gt; 3,000 bp) to indicate a successful extraction.</li>
</ul>
<p><strong>Example Gel</strong></p>
<p><img width="300" alt="" src="pictures/ExampleGel.png"></p>
<p>2% agarose gel with ladders in the rightmost and leftmost wells, a blank in the second well from the right, and three oyster genomic DNA samples in the remaining wells. <em>This is using a different ladder than the one we have.</em></p>
<ul>
<li><p>Both ladders ran nicely. The bands are mostly spaced out with minimal streaking.</p>
<ul>
<li><strong>Note</strong> the clustered bands in the ladders for 3,000-20,000 bp</li>
</ul></li>
<li><p>The second well, a blank, contains nothing beyond loading dye. As there was no sample running there, the image shows no DNA present, which is as it should be.</p></li>
<li><p>Samples 1 and 2 ran properly- each has a clear distinct line placing them between 3,000-20,000 bp in length (appropriate for genomic DNA). These samples appear to be in a good state for sequencing.</p></li>
<li><p>Sample 3, on the other hand, is streaky, indicating that the DNA likely degraded during the electrophoresis process. There is one bright band up near the top in the 3,000-20,000 bp range, which is good, but this sample probably isn’t in the best shape for sequencing.</p></li>
</ul>
</section>
</section>
<section id="troubleshooting" class="level2">
<h2 class="anchored" data-anchor-id="troubleshooting"><strong>Troubleshooting</strong></h2>
<section id="agarose-percentages" class="level3">
<h3 class="anchored" data-anchor-id="agarose-percentages">Agarose Percentages</h3>
<p><a href="https://northeastern.zoom.us/j/92075400920?pwd=NjRRdHd6emlyVlRLcXlOejRyb1NlUT09">What happens if I make the wrong percent agarose gel?</a></p>
</section>
<section id="wavy-sample-or-ladder-bands" class="level3">
<h3 class="anchored" data-anchor-id="wavy-sample-or-ladder-bands">Wavy Sample or Ladder Bands</h3>
<ul>
<li><p>When removing the combs from a set gel, remove very gently and pull them straight up and out to keep pieces of gel from getting loosened and knocked into the well.</p></li>
<li><p>Make sure not to touch the sides of the wells with the pipette tip when adding samples in.</p></li>
</ul>
</section>
<section id="e1-error-on-voltage-machine" class="level3">
<h3 class="anchored" data-anchor-id="e1-error-on-voltage-machine">E1 Error on Voltage Machine</h3>
<ul>
<li><p>The voltage machine may give an “E1” error and will not begin running. When this happens, check that there is enough TAE buffer in the rig such that the ends of the electrodes are submerged. Add more 1X TAE if not.</p></li>
<li><p>Also check that electrodes are tightened on each side. The red one on rig 2 tends to get a bit loose.</p></li>
</ul>
</section>
<section id="streaky-samples" class="level3">
<h3 class="anchored" data-anchor-id="streaky-samples">Streaky Samples</h3>
<ul>
<li>Your sample may have degraded. Be careful not to leave DNA samples in the fridge for more than 4 or 5 days and try not to thaw and refreeze samples too many times.</li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/remygatins\.github\.io\/GatinsLabProtocols\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>