<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lab_molec_edna_filtration – Gatins Lab Protocols</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5a9b537b243303aefe8b977b0c05dd2c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Gatins Lab Protocols</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Welcome</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./lab_generalprotocols.html"> 
<span class="menu-text">Lab Protocols</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./fieldprotocols.html"> 
<span class="menu-text">Field Protocols</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./prof_development.qmd"> 
<span class="menu-text">Professional Development</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./coding.html"> 
<span class="menu-text">Coding</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/remygatins"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/remygatins?lang=en"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lab_molec_etoh.html">Molecular Protocols</a></li><li class="breadcrumb-item"><a href="./lab_molec_eDNA_filtration.html">eDNA Protocols</a></li><li class="breadcrumb-item"><a href="./lab_molec_eDNA_filtration.html">eDNA Water Collection &amp; Filtration</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./pictures/Gatins_Lab_logo_dark_simple.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">General Protocols</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_generalprotocols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General Protocols</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_gen_sharedlabspace.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NUMSC - Shared Lab Space</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_gen_pipetting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pipetting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_gen_water.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Types of Water</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_gen_stableisotope.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stable Isotope Protocol</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Equipment</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_80_freezer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">-80°C Freezer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_autoclave.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Autoclave (OGL)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_tapestation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tapestation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_qubit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">QubitFlex Fluorometer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_equip_ph_meter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">pH Meter</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Molecular Protocols</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_etoh.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Types of Ethanol</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">eDNA Protocols</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_eDNA_filtration.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">eDNA Water Collection &amp; Filtration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_eDNA_extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">eDNA Filter Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_eDNA_qpcr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">eDNA qPCR Protocol (BSB)</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_dnaextraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Qiagen DNeasy extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_DNA_beadcleanup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DNA Bead Cleanup</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Illumina WGS Library Prep</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_illuminalibraryprep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Illumina Library Prep</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_yinlineannealing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Annealing Y-in line adapters for use in Illumina WGS</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_gel_electrophoresis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gel Electrophoresis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_molec_low_te_buffer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Low TE Buffer</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#edna-water-collection-filtration" id="toc-edna-water-collection-filtration" class="nav-link active" data-scroll-target="#edna-water-collection-filtration">eDNA Water Collection &amp; Filtration</a>
  <ul class="collapse">
  <li><a href="#materials" id="toc-materials" class="nav-link" data-scroll-target="#materials">Materials:</a></li>
  <li><a href="#prep" id="toc-prep" class="nav-link" data-scroll-target="#prep">Prep</a>
  <ul class="collapse">
  <li><a href="#bleaching" id="toc-bleaching" class="nav-link" data-scroll-target="#bleaching">Bleaching</a></li>
  <li><a href="#prepping-bottles-and-filter-housings-once-dry" id="toc-prepping-bottles-and-filter-housings-once-dry" class="nav-link" data-scroll-target="#prepping-bottles-and-filter-housings-once-dry">Prepping bottles and filter housings (once dry)</a></li>
  </ul></li>
  <li><a href="#water-collection-in-field-eg.-off-boat" id="toc-water-collection-in-field-eg.-off-boat" class="nav-link" data-scroll-target="#water-collection-in-field-eg.-off-boat">Water collection in field (eg. off boat)</a></li>
  <li><a href="#filtering-in-the-lab" id="toc-filtering-in-the-lab" class="nav-link" data-scroll-target="#filtering-in-the-lab">filtering in the lab</a></li>
  <li><a href="#filtering-water-in-the-field-eg.-grabowski-tanks-at-msc" id="toc-filtering-water-in-the-field-eg.-grabowski-tanks-at-msc" class="nav-link" data-scroll-target="#filtering-water-in-the-field-eg.-grabowski-tanks-at-msc">filtering water in the field (eg. Grabowski tanks at MSC)</a>
  <ul class="collapse">
  <li><a href="#prep-tanks" id="toc-prep-tanks" class="nav-link" data-scroll-target="#prep-tanks">Prep Tanks</a></li>
  <li><a href="#filtering" id="toc-filtering" class="nav-link" data-scroll-target="#filtering">Filtering</a></li>
  </ul></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps">Next Steps:</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lab_molec_etoh.html">Molecular Protocols</a></li><li class="breadcrumb-item"><a href="./lab_molec_eDNA_filtration.html">eDNA Protocols</a></li><li class="breadcrumb-item"><a href="./lab_molec_eDNA_filtration.html">eDNA Water Collection &amp; Filtration</a></li></ol></nav></header>




<section id="edna-water-collection-filtration" class="level1">
<h1>eDNA Water Collection &amp; Filtration</h1>
<p><a href="https://github.com/remygatins/GatinsLabProtocols/edit/main/lab_molec_eDNA_filtration.qmd">Edit this page</a></p>
<section id="materials" class="level2">
<h2 class="anchored" data-anchor-id="materials">Materials:</h2>
<ul class="task-list">
<li><label><input type="checkbox">1L sterile bottles (glass for filtering in the lab and nalgene for water collection in the field)</label></li>
<li><label><input type="checkbox">ice</label></li>
<li><label><input type="checkbox">eDNA citizen scientist sampler</label></li>
<li><label><input type="checkbox">packs/bags with sterile forcepts, filter housing (with filter and filter backing already within), and tubing</label>
<ul class="task-list">
<li><label><input type="checkbox"><a href="https://www.sigmaaldrich.com/US/en/product/aldrich/wha7190004?srsltid=AfmBOopvf1rWBzCE_YJs1MM8i__gSBdbwJ7Tvsy5VnJdUL2gn3IS6iDq">1 μm filters</a></label></li>
<li><label><input type="checkbox"><a href="https://www.sterlitech.com/polyester-drain-discs-mesh-spacers-petedd47100.html?queryID=be87749bff21cf79daafc35c2b13d9e8&amp;objectID=1261&amp;indexName=live_default_products">drain disc/filter backing</a></label></li>
</ul></li>
<li><label><input type="checkbox">2 ml or 5 ml tubes</label></li>
<li><label><input type="checkbox">gloves</label></li>
<li><label><input type="checkbox">container for dirty instruments &amp; filter housings</label></li>
<li><label><input type="checkbox">field materials (listed under “filtering in the field/off boat” in “need:” section)</label></li>
</ul>
</section>
<section id="prep" class="level2">
<h2 class="anchored" data-anchor-id="prep">Prep</h2>
<section id="bleaching" class="level3">
<h3 class="anchored" data-anchor-id="bleaching">Bleaching</h3>
<p>(eg. filter holders, other filtering materials, bottles, and stoppers)</p>
<ul class="task-list">
<li><label><input type="checkbox">1. after use (esp if filtering salt water), rinse with water in sink</label></li>
<li><label><input type="checkbox">2. store in “dirty contrainer” if not bleaching immediatly</label></li>
<li><label><input type="checkbox">3. if ready to bleach, change gloves and place equipment (eg. filter equipment: filters housings, plastic focepts, and housing clear plastic tubes or water collection equipment: nalgene bottles and stoppers) into 10% bleach bath for at least 10 mins (make sure they are submerged)</label></li>
<li><label><input type="checkbox">4. after 10 mins, put clean gloves on and transfer everything into MilliQ bath</label></li>
<li><label><input type="checkbox">5. remove equipment from water bath and place into clean plastic container in fume hood to dry</label></li>
</ul>
<p>Bleach &amp; MilliQ bath set up:</p>
<p><img width="500" alt="" src="pictures/eDNAwater_bleachbath.jpg"></p>
<p><strong>NOTES:</strong></p>
<ul>
<li>before starting bleach process, make sure drying contrainers have been recently wiped down with bleach, DI water, &amp; 70% ethanol</li>
<li>the bleach and DI water baths should be changed out at least monthly (more frequently if cleaning a lot of stuff)</li>
<li>when making new bleach bath make at least 5 Liters
<ul>
<li>5 L of 10% bleach solution: 500 ml bleach with 4500 ml milliQ H20</li>
</ul></li>
</ul>
</section>
<section id="prepping-bottles-and-filter-housings-once-dry" class="level3">
<h3 class="anchored" data-anchor-id="prepping-bottles-and-filter-housings-once-dry">Prepping bottles and filter housings (once dry)</h3>
<ul class="task-list">
<li><label><input type="checkbox">1. store bottles sealed in clean cooler (plastic cap if not collecting water soon, change to sterile stoppers when collecting water)</label></li>
</ul>
<p>Cooler with bottles capped:</p>
<p><img width="300" alt="" src="pictures/eDNAwater_cooler.jpeg"></p>
<p>Bottle with stopper:</p>
<p><img width="300" alt="" src="pictures/eDNAwater_bottle.jpeg"></p>
<ul class="task-list">
<li><label><input type="checkbox">2. prep filters:</label>
<ul class="task-list">
<li><label><input type="checkbox">2.1 using clean forcepts and wearing clean gloves, place 1 polyester (PETE) Drain disc (mesh spacer) onto metal mesh on black filter housing piece</label></li>
<li><label><input type="checkbox">2.2 then place 1 cellulose nitrate membrane filter on top of drain disc</label></li>
<li><label><input type="checkbox">2.3 take beige housing piece and click onto black piece</label></li>
<li><label><input type="checkbox">2.4 place into clean ziplock bag</label></li>
<li><label><input type="checkbox">2.5 add 1 pair of sterile plastic forcepts and 1 clear hard plastic tubing into same bag</label></li>
<li><label><input type="checkbox">2.6 seal and store on shelf</label></li>
<li><label><input type="checkbox">2.7 change gloves and clean forcepts frequently</label></li>
</ul></li>
</ul>
<p>filter packs:</p>
<p>supplies cleaned but not prepped</p>
<p><img width="300" alt="" src="pictures/eDNAwater_filternotprepped.jpeg"></p>
<p>supplies cleaned and prepped with filters</p>
<p><img width="300" alt="" src="pictures/eDNA_filtersprepped.jpeg"></p>
<p><strong>NOTES:</strong></p>
<ul>
<li>filters and filter backers are seperated by paper discs (usually blue) and these should be discarded to get to the next filter or backer</li>
<li><a href="https://www.sigmaaldrich.com/US/en/product/aldrich/wha7190004?srsltid=AfmBOopvf1rWBzCE_YJs1MM8i__gSBdbwJ7Tvsy5VnJdUL2gn3IS6iDq">1 μm filters</a></li>
<li><a href="https://www.sterlitech.com/polyester-drain-discs-mesh-spacers-petedd47100.html?queryID=be87749bff21cf79daafc35c2b13d9e8&amp;objectID=1261&amp;indexName=live_default_products">drain disc/filter backing</a></li>
</ul>
<p>drain disc and filter boxes:</p>
<p><img width="500" alt="" src="pictures/eDNAwater_filterclosed.jpeg"></p>
<p><img width="500" alt="" src="pictures/eDNAwater_filteropen.jpeg"></p>
</section>
</section>
<section id="water-collection-in-field-eg.-off-boat" class="level2">
<h2 class="anchored" data-anchor-id="water-collection-in-field-eg.-off-boat">Water collection in field (eg. off boat)</h2>
<p><strong>Need:</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">cooler with ice</label></li>
<li><label><input type="checkbox">sterilized nalgene bottles</label></li>
<li><label><input type="checkbox">sterilized stoppers</label></li>
<li><label><input type="checkbox">water collection device (+ both ropes)</label></li>
<li><label><input type="checkbox">field box:</label>
<ul class="task-list">
<li><label><input type="checkbox">gloves</label></li>
<li><label><input type="checkbox">pencils and pens</label></li>
<li><label><input type="checkbox">bag of extra sterile stoppers</label></li>
<li><label><input type="checkbox">bag for trash/dirty gloves</label></li>
<li><label><input type="checkbox">bag for dirty stoppers</label></li>
<li><label><input type="checkbox">wet wipes, alcohol wipes, or hand sanitizer</label></li>
</ul></li>
<li><label><input type="checkbox"><a href="https://drive.google.com/drive/folders/1gzgKrIxNBrcUXZmf-9COHeALRbWtZokE?usp=sharing">BSB data sheet</a> printed on water proof paper</label></li>
</ul>
<p>water collection device:</p>
<p><img width="300" alt="" src="pictures/eDNAwater_device.jpeg"> <img width="325" alt="" src="pictures/eDNAwater_deviceabove.jpeg"> <img width="300" alt="" src="pictures/eDNAwater_deviceclose.jpeg"></p>
<p><strong>Steps:</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">1. place sterile bottles in cooler with sterile stoppers already pressed in</label></li>
<li><label><input type="checkbox">2. surround bottles with ice</label></li>
<li><label><input type="checkbox">3. once you have reached the collection site, mark down site info onto data sheet and choose a bottle to collect water (each are marked with a number)</label></li>
<li><label><input type="checkbox">4. wearing gloves place sterilized bottle between hose clamps and tighten them</label></li>
<li><label><input type="checkbox">5. push down stopper to check that it is snug</label></li>
<li><label><input type="checkbox">6. clip smaller rope onto the stopper (making sure rope is coming down from top of device, not sides)</label></li>
<li><label><input type="checkbox">7. lower device into water and let it go down until bubbles stop/you think it has reached the bottom</label>
<ul class="task-list">
<li><label><input type="checkbox">7.1 make sure smaller rope has slack so stopper is not prematurely pulled</label></li>
<li><label><input type="checkbox">7.2 count tape markers to estimate depth (every 10 feet)</label></li>
</ul></li>
<li><label><input type="checkbox">8. once device has reached the bottom, pull on smaller rope to pull out stopper</label></li>
<li><label><input type="checkbox">9. wait ~1 min before pulling up device</label></li>
<li><label><input type="checkbox">10. when device it at the top of the water slowly pull it up onto the boat keeping the bottle upright</label></li>
<li><label><input type="checkbox">11. put on gloves and screw lid of bottle on</label></li>
<li><label><input type="checkbox">12. take bottle out of device and add back to the cooler (make sure it is surrounded with ice)</label></li>
<li><label><input type="checkbox">13. change gloves then repeat steps 3-12 at next site</label></li>
</ul>
<p><strong>Next Step:</strong></p>
<ul>
<li>bring bottles on ice back to the lab</li>
<li>filter water same day then store in -20 C freezer (see: filtering in the lab below)</li>
</ul>
</section>
<section id="filtering-in-the-lab" class="level2">
<h2 class="anchored" data-anchor-id="filtering-in-the-lab">filtering in the lab</h2>
<p><strong>Need:</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">eDNA citizen scientist sampler (make sure battery is charged)</label></li>
<li><label><input type="checkbox">ice</label></li>
<li><label><input type="checkbox">packs/bags with sterile forcepts, filter housing (with filter and filter backing already within), and tubing</label></li>
<li><label><input type="checkbox">2 ml microcentrifuge tubes (label before starting filtering process)</label></li>
<li><label><input type="checkbox">gloves</label></li>
<li><label><input type="checkbox">container for dirty instruments &amp; filter housings</label></li>
<li><label><input type="checkbox">2 1L sterile glass bottles filled with milliQ water</label></li>
</ul>
<p>filtering water in lab:</p>
<p><img width="400" alt="" src="pictures/eDNAwater_filteringinlab.jpeg"></p>
<p><strong>Steps:</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">1. Wipe down bench area with 10% bleach, DI water, then 75% ethanol (repeat wipedown with bleach within each filter)</label></li>
<li><label><input type="checkbox">2. Wearing clean gloves, attach filter housing (black side) to long tube attached to the eDNA citizen scientist sampler</label></li>
<li><label><input type="checkbox">3. Attach clear hard plastic tube to beige part of the filter housing</label></li>
<li><label><input type="checkbox">4. Turn on vaccume with plastic tube sticking upwards before placing into bottle with water</label></li>
<li><label><input type="checkbox">5. Once water gets low in bottle take out plastic tube and slowly pour rest of water into the tube and filter housing until the filtered water reaches the 900 ml mark on the sampler storage container (water in long tube should make it reach 1 L)</label></li>
<li><label><input type="checkbox">6. Keep vaccume on and hold hard plastic tube upwards until all of the water in the long tube has reached the storage container</label></li>
<li><label><input type="checkbox">7. One vaccume is shut off, pull filter housing off long tube and take off the hard plastic tube (place in dirty container)</label></li>
<li><label><input type="checkbox">8. Gently open filter housing and using the plastic forcepts in the bag, fold filter and its backing in half like a taco then fold 2-3 more times until it looks like it will fit into 2ml microcentrifuge tube</label></li>
<li><label><input type="checkbox">9. Place filter into 2ml microcentrifuge tube then discard forcepts and both sides of the filter housing into the dirty container</label></li>
<li><label><input type="checkbox">10. Place microcentrifuge tube on ice</label></li>
<li><label><input type="checkbox">11. Pour storage container water down sink</label></li>
<li><label><input type="checkbox">12. Place storage container back citizen scientist sampler (with lid screwed on)</label></li>
<li><label><input type="checkbox">13. wipe down bench area with 10% bleach</label></li>
<li><label><input type="checkbox">14. Change gloves</label></li>
<li><label><input type="checkbox">15. repeat steps for all samples</label></li>
<li><label><input type="checkbox">16. place samples in freezer until ready to extract</label></li>
</ul>
<p><strong>NOTES:</strong></p>
<ul>
<li>start and end filtering process by filtering 1 L bottle of milliQ H20 stored in sterile glass bottle (use for extraction neg control, 2 total)</li>
<li>Keep bottles of water in ice cooler while working</li>
</ul>
</section>
<section id="filtering-water-in-the-field-eg.-grabowski-tanks-at-msc" class="level2">
<h2 class="anchored" data-anchor-id="filtering-water-in-the-field-eg.-grabowski-tanks-at-msc">filtering water in the field (eg. Grabowski tanks at MSC)</h2>
<p><strong>Need:</strong></p>
<ul class="task-list">
<li><label><input type="checkbox">eDNA citizen scientist sampler (make sure battery is charged)</label></li>
<li><label><input type="checkbox">ice in small blue ice bucket</label></li>
<li><label><input type="checkbox">packs/bags with sterile forcepts, filter housing (with filter and filter backing already within), and tubing</label></li>
<li><label><input type="checkbox">2 or 5 ml microcentrifuge tubes (label before starting filtering process)</label></li>
<li><label><input type="checkbox">gloves</label></li>
<li><label><input type="checkbox">container for dirty instruments &amp; filter housings (and dirty gloves)</label></li>
<li><label><input type="checkbox">gray bin</label></li>
<li><label><input type="checkbox">2 1L sterile glass bottles filled with milliQ water (to use for extraction negative control)</label></li>
</ul>
<section id="prep-tanks" class="level3">
<h3 class="anchored" data-anchor-id="prep-tanks">Prep Tanks</h3>
<ul class="task-list">
<li><label><input type="checkbox">1. Prep tanks for experiment</label>
<ul class="task-list">
<li><label><input type="checkbox">1.1 clean tanks with scrub brushs (algae growth) and remove particulates/litter/substrate (eg. dirt, leaves, rocks, shells, bugs…) with nets and water pump</label></li>
<li><label><input type="checkbox">1.2 fill tanks with water</label></li>
<li><label><input type="checkbox">1.3 standardize tanks</label>
<ul class="task-list">
<li><label><input type="checkbox">1.33 water height: adjust standpipe/outflow tube angle/height (eg. pipe height = 50 cm)</label></li>
<li><label><input type="checkbox">1.32 water flow rate: time how fast a 5 gallon bucket fills up with water (eg. 5 gallons in 1:30 mins +/- 10 seconds)</label></li>
<li><label><input type="checkbox">1.33 ziptie mesh over standpipe/outflow tube opening</label></li>
<li><label><input type="checkbox">1.34 use clamps to cover tanks with mesh (prevent birds from entering &amp; organisms from escaping)</label></li>
</ul></li>
<li><label><input type="checkbox">1.4 add organisms to tanks</label>
<ul class="task-list">
<li><label><input type="checkbox">1.41 decide # of organisms per tank</label></li>
<li><label><input type="checkbox">1.42 figure out how to standardize (eg. size, gender…)</label></li>
<li><label><input type="checkbox">1.43 have empty tank for control (could also have other tanks with different organisms)</label></li>
</ul></li>
<li><label><input type="checkbox">1.5 decide how many hours after organism addition or removal you want to filter water</label></li>
<li><label><input type="checkbox">1.6 add temp loggers (can be borrowed from Grabowski lab)</label></li>
</ul></li>
<li><label><input type="checkbox">2. when ready to filter, place ice bucket, gloves, dirty container, filter pack bags, and tubes on tube rack into gray lab bin</label></li>
</ul>
<p>Prepped Bin:</p>
<p><img width="300" alt="" src="pictures/eDNAwater_bin.jpeg"></p>
</section>
<section id="filtering" class="level3">
<h3 class="anchored" data-anchor-id="filtering">Filtering</h3>
<ul class="task-list">
<li><label><input type="checkbox">1. filter 1 L of milliQ water (stored in sterile glass bottle) in the lab then store on ice</label></li>
<li><label><input type="checkbox">2. Transport supplies (in gray bin) and eDNA citizen scientist sampler to filter site</label></li>
<li><label><input type="checkbox">3. Wearing clean gloves, attach filter housing (black side) to long tube attached to the eDNA citizen scientist sampler</label></li>
<li><label><input type="checkbox">4. Attach clear hard plastic tube to beige part of the filter housing</label></li>
<li><label><input type="checkbox">5. Turn on vaccume with plastic tube sticking upwards for a few seconds before placing into water</label></li>
<li><label><input type="checkbox">6. Remove from water once filtered water reaches the 900 ml mark on the sampler storage container (water in long tube should make it reach 1 L)</label></li>
<li><label><input type="checkbox">7. Keep vaccume on and hold hard plastic tube upwards until all of the water in the long tube has reached the storage container</label></li>
<li><label><input type="checkbox">8. One vaccume is shut off, pull filter housing off long tube and take off the hard plastic tube (place in dirty container)</label></li>
<li><label><input type="checkbox">9. Gently open filter housing and using the plastic forcepts in the bag, fold filter and its backing in half like a taco then fold 2-3 more times until it looks like it will fit into 2ml microcentrifuge tube</label></li>
<li><label><input type="checkbox">10. Place filter into 2ml microcentrifuge tube then discard forcepts and both sides of the filter housing into the dirty container</label></li>
<li><label><input type="checkbox">11. Place microcentrifuge tube into ice</label></li>
<li><label><input type="checkbox">12. Pour storage container water out (either back into same tank you took it from, or onto grass/rocks)</label></li>
<li><label><input type="checkbox">13. Place storage container back into citizen scientist sampler and screw lid back on</label></li>
<li><label><input type="checkbox">14. Change gloves</label></li>
<li><label><input type="checkbox">15. repeat steps for all tanks/samples sites</label></li>
<li><label><input type="checkbox">16. transport supplies and samples back to lab</label></li>
<li><label><input type="checkbox">17. filter 1 L of milliQ water (stored in sterile glass bottle)</label></li>
<li><label><input type="checkbox">18. transfer all samples from ice to -20 freezer until ready to extract</label></li>
</ul>
</section>
</section>
<section id="next-steps" class="level2">
<h2 class="anchored" data-anchor-id="next-steps">Next Steps:</h2>
<ul>
<li><a href="https://remygatins.github.io/GatinsLabProtocols/lab_molec_eDNA_extraction.html">lysis and extract DNA from filters</a></li>
<li>bleach nalgene bottles, stoppers, and filter supplies (see: <a href="#prep">Prep section</a>)</li>
<li>prep filter bags (see: <a href="#prep">Prep section</a>)</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/remygatins\.github\.io\/GatinsLabProtocols\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>